<div class="min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8">
  <!-- Loading & Error States -->
  <div *ngIf="isLoading" class="flex justify-center items-center h-64">
    <div class="animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"></div>
  </div>

  <div *ngIf="error" class="text-red-600 bg-red-50 p-4 rounded-lg">{{ error }}</div>

  <!-- Property Details Container -->
  <div *ngIf="property && !isLoading" class="max-w-7xl mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Left Section - Image Gallery -->
      <div class="lg:col-span-2 space-y-4">
        <!-- Main Image with Featured Label -->
        <div class="relative rounded-xl overflow-hidden bg-gray-900 aspect-video">
          <span class="absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-md text-sm font-medium z-10">
            FEATURED
          </span>
          <img 
            [src]="currentImage || property.imageUrl" 
            [alt]="property.name"
            class="w-full h-full object-contain"
          >
          <!-- Navigation Arrows -->
          <button 
            *ngIf="getAllImages().length > 1"
            (click)="navigatePrevious()"
            class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full transition-all duration-200">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
          </button>
          <button 
            *ngIf="getAllImages().length > 1"
            (click)="navigateNext()"
            class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full transition-all duration-200">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </button>
        </div>

        <!-- Thumbnail Gallery -->
        <div class="flex space-x-2 overflow-x-auto pb-2">
          <div 
            *ngFor="let img of getAllImages()"
            (click)="setCurrentImage(img)"
            class="flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden cursor-pointer transition-all duration-200"
            [class.ring-2]="currentImage === img"
            [class.ring-blue-500]="currentImage === img"
            [class.opacity-70]="currentImage !== img"
            [class.opacity-100]="currentImage === img">
            <img [src]="img" class="w-full h-full object-cover">
          </div>
        </div>

        <!-- Property Details Grid -->
        <div class="bg-white rounded-xl p-6 shadow-sm mt-8">
          <h2 class="text-xl font-bold mb-4">Property Details</h2>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
            <div *ngFor="let detail of propertyDetails" class="space-y-1">
              <p class="text-gray-500 text-sm">{{ detail.label }}</p>
              <p class="font-medium">{{ detail.value }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Section -->
      <div class="space-y-6">
        <!-- Property Overview -->
        <div class="bg-white rounded-xl p-6 shadow-sm">
          <div class="space-y-4">
            <h1 class="text-3xl font-bold text-blue-600">
              â‚¹{{ property.price.toLocaleString() }}
              <span *ngIf="property.type === 'For Rent'" class="text-sm text-gray-500">/month</span>
            </h1>
            
            

            <p class="text-gray-600">{{ property.description }}</p>

            <div class="flex items-center text-gray-600">
              <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"/>
              </svg>
              <span>{{ property.area }}, {{ property.city }}</span>
            </div>

            <p class="text-sm text-gray-500">Posted {{ getTimeAgo() }}</p>
          </div>
        </div>

        <!-- Seller Info Card -->
        <div class="bg-white rounded-xl p-6 shadow-sm">
          <div class="flex items-center space-x-4 mb-4">
            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
              <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"/>
              </svg>
            </div>
            <div>
              <h3 class="font-medium">Posted by {{ property.ownerId || 'Anonymous' }}</h3>
              <p class="text-sm text-gray-500">Member since {{ getMemberSince() }}</p>
            </div>
          </div>
          
          <button class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200">
            Chat with seller
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
